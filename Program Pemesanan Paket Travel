#include <stdio.h>
#include <string.h>
#include <time.h>

int main (){
	struct tm *Sys_T;
	time_t Tval;
	Tval = time(NULL);
	Sys_T = localtime(&Tval);
	int tanggal_sekarang = Sys_T->tm_mday;    
	int bulan_sekarang = Sys_T->tm_mon+1;     
	int tahun_sekarang = 1900+Sys_T->tm_year;
	int hari_sekarang = Sys_T->tm_wday ;      
	char hari [6];
	char bulan [9];
	
	struct travel {
		char nama [50];
		char lama [50];
		int harga;
		int total_travel;
		int kirim;
		int total;
		int kembalian;
		int bayar;
		int bulan_pesan [9];
	};
	struct travel paket; 
	
	struct pemesan {
		char nama [50];
		int jumlah_orang;
		int tanggal_pemesanan;
		int bulan_pemesanan;
		int tahun_pemesanan;
		int pilihan;
		int pesan;
		int ulang; 
	};
	struct pemesan pesanan;
	
	struct login{
		int menu;
		int ulang;
		char username [6];
		char password [9];
	};
	struct login registrasi;
	
	switch (hari_sekarang) {
	case 0: 
		strcpy (hari, "Minggu");
		break;
	case 1:
		strcpy (hari, "Senin"); 
		break;
	case 2:
		strcpy (hari, "Selasa");
		break;
	case 3:
		strcpy (hari, "Rabu");
		break;
	case 4: 
		strcpy (hari, "Kamis");
		break;
	case 5: 
		strcpy (hari, "Jumat");
		break;
	case 6:
		strcpy (hari, "Sabtu");
		break;
	}
	
	switch (bulan_sekarang) {
	case 1: 
		strcpy (bulan, "Januari");
		break; 
	case 2: 
		strcpy (bulan, "Februari"); 
		break; 
	case 3:
		strcpy (bulan, "Maret");
		break;
	case 4: 
		strcpy (bulan, "April"); 
		break; 
	case 5: 
		strcpy (bulan, "Mei");
		break; 
	case 6: 
		strcpy (bulan, "Juni");
		break;
	case 7:
		strcpy (bulan, "Juli");
		break; 
	case 8:
		strcpy (bulan, "Agustus");
		break;
	case 9: 
		strcpy (bulan, "September");
		break;
	case 10: 
		strcpy (bulan, "Oktober");
		break; 
	case 11: 
		strcpy (bulan, "November"); 
		break;
	case 12: 
		strcpy (bulan, "Desember");
		break;
	}

	printf("======================================================================\n");
	printf("                     REGISTRASI/LOGIN PENGGUNA\n");
	printf("======================================================================\n\n");
	
	menu:
	printf("+----------------------------+\n");								//menampilkan menu yaitu registrasi dan login
	printf ("| No |          Menu         |\n"); 
	printf("+----------------------------+\n");
	printf ("| 1  |       Registrasi      |\n");
	printf ("| 2  |         Login         |\n");
	printf("+----------------------------+\n");
	
	printf (" Piih Menu Yang Diinginkan (1-2): "); 
	scanf("%d", &registrasi.menu);
	switch(registrasi.menu){
		case 1 :
			printf("======================================================================\n");
			printf("                           REGISTRASI PENGGUNA\n");
			printf("======================================================================\n\n");
			printf("Masukkan Username: ");
			scanf("%s", &registrasi.username );
			fflush(stdin);
			printf("Masukkkan Password: ");
			scanf("%s", &registrasi.password); 
			fflush(stdin);
			printf("\nAkun Berhasil Disimpan\n");
			printf("\n------------------SELAMAT DATANG------------------\n\n");
			break;
		case 2 :
			printf("======================================================================\n");
			printf("                           LOGIN PENGGUNA\n");
			printf("======================================================================\n\n");
			login:
			printf("Masukkan Username : ");
			scanf("%s", &registrasi.username );
			fflush(stdin); 
			printf("Masukkan Password : ");
			scanf("%s", &registrasi.password); 
			fflush(stdin);	
			
			if (strcmp (registrasi.username,"SINTA")==0 && strcmp (registrasi.password, "letskuy1")==0 || 
				strcmp (registrasi.username,"MEIKA")==0 && strcmp (registrasi.password, "letskuy2")==0 ){
				// fungsi untuk membandingkan username dan password yang dimasukkan dengan yang ditentukan
				printf("LOGIN BERHASIL!\n\n");
				printf("\n------------------SELAMAT DATANG------------------\n\n");
				getch();
			}
			else{
				registrasi.ulang=registrasi.ulang+1;
				//fungsi untuk menentukan berapa kali perulangan password akan diijinkan
				if(registrasi.ulang<3){
					printf("USERNAME ATAU PASSWORD SALAH\n\n");
					goto login;
				}	
				else{
					printf("Akses Ditolak!");
					getch();
				}
			}
			break;
		default:
			printf("Mohon Hanya Masukkan Antara Angka 1 atau 2!\n");
			goto menu;
	}
	
	menu_utama:
	system("cls");
	printf("======================================================================\n");
	printf("                           LETS'S KUY TRAVEL\n");
	printf("======================================================================\n\n");
	printf("-------------------------------------------------------------------------\n");
	printf("| Kode Paket |              Nama Paket              |     Harga	        |\n");
	printf("-------------------------------------------------------------------------\n");
	printf("|     1      |	    Paket Barat Nusa Penida         |Rp 350.000/orang   |\n");
	printf("|     2      |      Paket Timur Nusa Penida         |Rp 350.000/orang   |\n");
	printf("|     3      |   Paket Barat dan Timur Nusa Penida  |Rp 625.000/orang   |\n");
	printf("|     4      |           Paket Snorkling            |Rp 400.000/orang   |\n");
	printf("|     5      |	  Paket Tirta Yatra Nusa Penida     |Rp 450.000/orang   |\n");
	printf("-------------------------------------------------------------------------\n");	
	
	pilihan:
	printf ("Pilihan Paket Yang Diinginkan (1-5)??\n");
	scanf ("%d", &pesanan.pilihan);
	fflush(stdin);
	system("cls");
	
	switch (pesanan.pilihan) {
		case 1: 
		strcpy (paket.nama, "Paket Barat Nusa Penida");
		strcpy (paket.lama, "Satu");
		paket.harga=350000;
		printf("====================================================================\n");
		printf("                     Paket Barat Nusa Penida\n");
		printf("====================================================================\n");
		printf("Lama Travel: %s Hari\n\n", paket.lama);
		printf("Objek Wisata:\n");
		printf("a. Keliling Beach\n");
		printf("b. Broken Beach\n");
		printf("c. Angel's Billabong\n");
		printf("d. Cristal Bay\n\n");
		printf("Fasilitas:\n");
		printf("a. Private Tour Dengan Mobil\n");
		printf("b. Panjemput Ke Lokasi\n");
		printf("c. Guide Lokal Berpengalaman");
		break;
		
		case 2 : 
			strcpy (paket.nama, "Paket Timur Nusa Penida");
			strcpy (paket.lama, "Satu");
			paket.harga=350000;
			printf("====================================================================\n");
			printf ("                     Paket Timur Nusa Penida\n");
			printf("====================================================================\n");
			printf("Lama Travel: %s Hari\n\n", paket.lama);
			printf("Objek Wisata:\n");
			printf("a. Diamond Beach\n");
			printf("b. Atuh Beach\n");
			printf("c. Pulau Seribu/Raja Lima\n");
			printf("d. Bukit Telletubies\n\n");
			printf("Fasilitas:\n");
			printf("a. Private Tour Dengan Mobil\n");
			printf("b. Penjemputan Ke Lokasi\n");
			printf("c. Guide Lokal Berpengalaman\n\n");
			break;
			
		case 3 : 
		strcpy (paket.nama, "Paket Barat dan Timur Nusa Penida ");
		strcpy (paket.lama, "Dua");
		paket.harga=600000;
		printf("====================================================================\n");
		printf	("                     Paket Barat dan Timur Nusa Penida\n");
		printf("====================================================================\n")
		printf("Lama Travel: %s Hari\n\n", paket.lama);
		printf("Objek Wisata:\n");
		printf("a. Keliling Beach\n)";
		printf("b. Broken Beach\n");
		printf("c. Angel's Billabong\n");
		printf("d. Cristal Bay\n");
		printf("e. Diamond Beach\n");
		printf("f. Atuh Beach\n");
		printf("g. Pulau Seribu/Raja Lima\n");
		printf("h. Bukit Telletubies\n\n");
		printf("Fasilitas:\n");
		printf("a. Private Tour Dengan Mobil\n");
		printf("b. Penjemputan Ke Lokasi\n);
		printf("c. Guide Lokal Berpengalaman\n\n");
		break:
		
	}
	
}
